# PP-OCRv5 C++ 基准测试

[English README](README.md)

🚀 PP-OCRv5 C++ 基准测试工具链，使用 GPU 加速和完整性能评估


## 📈 性能表现

### XFUND 数据集介绍

本项目使用 [XFUND](https://github.com/doc-analysis/XFUND) 数据集进行基准测试。XFUND（多语言表单理解数据集）是由微软发布的大规模多语言表单数据集，包含7种语言（中文、英文、日文、西班牙文、法文、意大利文、德文）的表单图像和对应的结构化标注。

**测试配置**：
- 数据集：XFUND 中文验证集（50张图像）
- 模型：PP-OCRv5 Server 系列完整Pipeline（高精度配置）
  - 文档方向分类：PP-LCNet_x1_0_doc_ori
  - 文档矫正：UVDoc
  - 文本行方向分类：PP-LCNet_x1_0_textline_ori
  - 文本检测：PP-OCRv5_server_det
  - 文本识别：PP-OCRv5_server_rec
- 硬件：服务器级配置，支持GPU加速
  - GPU: NVIDIA GeForce RTX 4060 (8GB VRAM)
  - CPU: Intel Core i5-10210U (4 cores, 8 threads @ 1.60GHz)
  - 内存: 32GB DDR4
  - 操作系统: Ubuntu 24.04.3 LTS
  - CUDA 驱动: 550.163.01

**测试结果**：
| Filename | Inference Time (ms) | FPS | CPS (chars/s) | Accuracy (%) |
|---|---|---|---|---|
| `zh_val_14.jpg` | 7914.49 | 0.13 | **156.80** | **61.71** |
| `zh_val_33.jpg` | 7348.49 | 0.14 | **235.56** | **30.11** |
| `zh_val_25.jpg` | 7221.49 | 0.14 | **246.90** | **64.70** |
| `zh_val_43.jpg` | 5979.58 | 0.17 | **105.36** | **16.08** |
| `zh_val_42.jpg` | 8222.00 | 0.12 | **253.95** | **39.59** |
| `zh_val_19.jpg` | 5873.57 | 0.17 | **126.16** | **50.79** |
| `zh_val_48.jpg` | 7700.59 | 0.13 | **300.50** | **61.06** |
| `zh_val_29.jpg` | 7116.69 | 0.14 | **244.64** | **7.19** |
| `zh_val_40.jpg` | 6712.66 | 0.15 | **237.01** | **46.69** |
| `zh_val_22.jpg` | 6216.40 | 0.16 | **116.31** | **81.97** |
| `zh_val_16.jpg` | 8090.12 | 0.12 | **132.51** | **47.04** |
| `zh_val_8.jpg` | 8325.40 | 0.12 | **170.32** | **57.84** |
| `zh_val_36.jpg` | 6989.40 | 0.14 | **143.50** | **60.20** |
| `zh_val_23.jpg` | 8068.41 | 0.12 | **229.04** | **75.46** |
| `zh_val_12.jpg` | 7703.80 | 0.13 | **29.21** | **63.81** |
| `zh_val_5.jpg` | 6537.46 | 0.15 | **120.54** | **41.90** |
| `zh_val_3.jpg` | 7151.22 | 0.14 | **159.69** | **40.71** |
| `zh_val_26.jpg` | 8645.33 | 0.12 | **451.69** | **60.82** |
| `zh_val_34.jpg` | 6994.97 | 0.14 | **217.73** | **79.69** |
| `zh_val_32.jpg` | 8400.24 | 0.12 | **349.87** | **65.94** |
| `zh_val_37.jpg` | 7150.71 | 0.14 | **178.16** | **54.49** |
| `zh_val_1.jpg` | 9724.83 | 0.10 | **455.23** | **89.57** |
| `zh_val_17.jpg` | 6544.14 | 0.15 | **99.33** | **26.97** |
| `zh_val_18.jpg` | 6641.68 | 0.15 | **184.74** | **55.63** |
| `zh_val_38.jpg` | 7466.84 | 0.13 | **307.76** | **62.37** |
| `zh_val_27.jpg` | 6514.84 | 0.15 | **120.34** | **59.12** |
| `zh_val_10.jpg` | 6542.86 | 0.15 | **151.92** | **58.37** |
| `zh_val_6.jpg` | 6946.93 | 0.14 | **228.88** | **7.18** |
| `zh_val_9.jpg` | 6689.75 | 0.15 | **193.28** | **77.16** |
| `zh_val_21.jpg` | 6288.07 | 0.16 | **140.42** | **5.65** |
| `zh_val_20.jpg` | 8110.33 | 0.12 | **210.47** | **49.08** |
| `zh_val_2.jpg` | 6735.18 | 0.15 | **255.08** | **80.88** |
| `zh_val_45.jpg` | 6894.24 | 0.15 | **176.38** | **79.02** |
| `zh_val_30.jpg` | 6755.26 | 0.15 | **260.24** | **78.99** |
| `zh_val_46.jpg` | 6837.84 | 0.15 | **149.17** | **46.19** |
| `zh_val_13.jpg` | 6097.78 | 0.16 | **101.18** | **62.24** |
| `zh_val_31.jpg` | 5544.65 | 0.18 | **67.99** | **69.28** |
| `zh_val_47.jpg` | 7115.66 | 0.14 | **170.19** | **53.50** |
| `zh_val_28.jpg` | 9068.98 | 0.11 | **43.33** | **63.51** |
| `zh_val_4.jpg` | 6104.68 | 0.16 | **120.07** | **55.86** |
| `zh_val_49.jpg` | 6391.34 | 0.16 | **181.18** | **52.73** |
| `zh_val_7.jpg` | 6910.87 | 0.14 | **142.24** | **61.31** |
| `zh_val_0.jpg` | 7541.19 | 0.13 | **228.35** | **80.39** |
| `zh_val_41.jpg` | 7942.20 | 0.13 | **258.74** | **8.09** |
| `zh_val_44.jpg` | 7763.15 | 0.13 | **147.36** | **64.16** |
| `zh_val_35.jpg` | 8023.67 | 0.12 | **224.96** | **69.03** |
| `zh_val_11.jpg` | 7405.57 | 0.14 | **218.75** | **83.10** |
| `zh_val_39.jpg` | 6482.47 | 0.15 | **146.55** | **60.06** |
| `zh_val_24.jpg` | 6934.10 | 0.14 | **151.57** | **70.47** |
| `zh_val_15.jpg` | 7376.59 | 0.14 | **231.41** | **6.39** |
| **Average** | - | **0.14** | **188.99** | **54.88** |

## 🛠️ 快速开始

### ⚡ 三步开始你的 OCR 基准测试

**第一步：环境配置**
```bash
git clone https://github.com/Chris-godz/PP-OCRv5-Cpp-Baseline.git
cd PP-OCRv5-Cpp-Baseline
./scripts/setup_environment.sh
```

**第二步：依赖安装**
```bash
./scripts/compile_dependencies.sh
```

**第三步：运行基准测试**
```bash
./scripts/startup.sh
```

## 📁 项目结构

```
├── CMakeLists.txt          # C++编译配置
├── src/Benchmark.cpp       # 主程序（OCR推理+性能测试）
├── scripts/
│   ├── startup.sh          # 一键运行脚本
│   ├── setup_environment.sh # 环境配置
│   ├── compile_dependencies.sh # 依赖安装
│   └── calculate_acc.py    # 准确率计算
├── models/                 # 预训练模型存储
├── PaddleOCR/              # PaddleOCR源码（克隆）
└── output/                 # 测试结果输出
```

## 📄 开源协议

本项目采用 Apache License 2.0 协议 - 详见 [LICENSE](LICENSE) 文件

## 🙏 致谢

感谢 [PaddleOCR 团队](https://github.com/PaddlePaddle/PaddleOCR) 提供优秀的 OCR 框架

---
